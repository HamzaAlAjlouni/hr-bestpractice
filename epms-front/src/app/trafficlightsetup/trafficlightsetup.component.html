<section class="content-header">
    <h1>
      {{'setup.trafficLightSetup.trafficLightSetup' | translate}}
    </h1>
  </section>
  
  <section class="content">
    <div class="row">
      <div class="col-md-12">
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title"> {{'setup.trafficLightSetup.search' | translate}}</h3>
          </div> 
          <form #Search='ngForm'>
            <div class="box-body">
              <div class="row">
                <div class="col-xs-3"><label> {{'setup.trafficLightSetup.trafficLightSetup' | translate}}</label>
                  <select class="form-control" required name='ddlYear' id='ddlYear' [(ngModel)]='ddlYear'>
                    <option *ngFor="let x of YearList" value="{{x.id}}">{{x.year}}</option>
                  </select>
                </div>
              </div>
            </div> 
            <div class="box-footer">
              <button [disabled]='Search.invalid' (click)='SearchFun()' class="btn btn-primary">{{'setup.trafficLightSetup.search' | translate}}</button>
            </div>
          </form> 
        </div> 
      </div> 
    </div>
  
  
    <div class="row">
      <div class="col-xs-12">
        <div class="box">
          <div class="box-header">
            <h3 class="box-title">{{'setup.trafficLightSetup.trafficLightIndicators' | translate}}</h3>
            <div class="pull-right box-tools">
              <button type="button" class="btn btn-success btn-sm btn-Add-right" (click)='AddMode();'
                data-widget="Add" data-toggle="tooltip" title="" data-original-title="Add">
                <i class="fa fa-plus"></i></button>
            </div>
          </div> 
          <div class="box-body">
            <DataGrid #gvTrafficLights [ShowButtons]='true' [RowSelection]='false' [AllowExportExcel]='false'
              [HideFooter]='false' (GridEvent)='gvTrafficLightsHandler($event);'>
            </DataGrid>
          </div> 
        </div> 
      </div> 
    </div> 
    <div class="row" *ngIf='showEntry'> 
      <div class="col-md-12"> 
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">{{'setup.trafficLightSetup.trafficLightIndicatorsEntry' | translate}}</h3>
          </div> 
          <form #entryform='ngForm'>
            <div class="box-body">
              <div class="row">
                <div class="col-xs-6">
                  <label>{{'setup.trafficLightSetup.indicatorName' | translate}}</label>
                  <input type="text" required class="form-control" name='txtName' id='txtName'
                    [(ngModel)]='txtName'>
                </div>
                 
                <div class="col-xs-3">
                  <label>{{'setup.performance.percentageFrom' | translate}}</label>
                  <input type="number" required class="form-control" name='txtPercFrom'
                    id='txtPercFrom' [(ngModel)]='txtPercFrom'>
                </div>
                <div class="col-xs-3">
                  <label>{{'setup.performance.percentageTo' | translate}}</label>
                  <input type="number" required class="form-control" name='txtPercTo'
                    id='txtPercTo' [(ngModel)]='txtPercTo'>
                </div>

                <div class="col-xs-3">
                    <label>Color</label>
                    <select class='form-control' id='ddlColors' name='ddlColors' [(ngModel)]='ddlColors'>
                      <option value=''>{{'setup.trafficLightSetup.select' | translate}}</option>  
                      <option value='green'>{{'setup.trafficLightSetup.green' | translate}}</option>
                      <option value="orange">{{'setup.trafficLightSetup.orange' | translate}}</option>
                      <option value="red">{{'setup.trafficLightSetup.red' | translate}}</option>
                      <option value="yellow">{{'setup.trafficLightSetup.yellow' | translate}}</option>
                      <option value="gray">{{'setup.trafficLightSetup.gray' | translate}}</option>
                    </select>
                </div> 
              </div> 
            </div> 
            <div class="box-footer">
              <button [disabled]='entryform.invalid' (click)='Save();' 
              class="btn btn-primary">{{'setup.approval.save' | translate}}</button>
            </div>
          </form>
        </div> 
      </div> 
    </div>


  </section>